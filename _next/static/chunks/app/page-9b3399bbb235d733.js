(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4538:()=>{},4739:(e,t,i)=>{"use strict";i.d(t,{default:()=>u});var s=i(5155),r=i(2115),n=i(5339),o=i(7548);i(4538);let a=["#5227FF","#FF9FFC","#B19EEF"];function u(e){let{mouseForce:t=20,cursorSize:i=100,isViscous:u=!1,viscous:l=30,iterationsViscous:c=32,iterationsPoisson:h=32,dt:v=.014,BFECC:p=!0,resolution:d=.5,isBounce:m=!1,colors:f=a,style:y={},className:x="",autoDemo:g=!0,autoSpeed:_=.5,autoIntensity:w=2.2,takeoverDuration:b=.25,autoResumeDelay:S=1e3,autoRampDuration:D=.6}=e,M=(0,r.useRef)(null),z=(0,r.useRef)(null),C=(0,r.useRef)(null),F=(0,r.useRef)(null),E=(0,r.useRef)(null),T=(0,r.useRef)(!0),A=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!M.current)return;let e=function(e){let t,i=(t=Array.isArray(e)&&e.length>0?1===e.length?[e[0],e[0]]:e:["#ffffff","#ffffff"]).length,s=new Uint8Array(4*i);for(let e=0;e<i;e++){let i=new n.Q1f(t[e]);s[4*e+0]=Math.round(255*i.r),s[4*e+1]=Math.round(255*i.g),s[4*e+2]=Math.round(255*i.b),s[4*e+3]=255}let r=new n.GYF(s,i,1,n.GWd);return r.magFilter=n.k6q,r.minFilter=n.k6q,r.wrapS=n.ghU,r.wrapT=n.ghU,r.generateMipmaps=!1,r.needsUpdate=!0,r}(f),s=new n.IUQ(0,0,0,0);class r{init(e){this.container=e,this.pixelRatio=Math.min(window.devicePixelRatio||1,2),this.resize(),this.renderer=new o.JeP({antialias:!0,alpha:!0}),this.renderer.autoClear=!1,this.renderer.setClearColor(new n.Q1f(0),0),this.renderer.setPixelRatio(this.pixelRatio),this.renderer.setSize(this.width,this.height);let t=this.renderer.domElement;t.style.width="100%",t.style.height="100%",t.style.display="block",this.clock=new n.zD7,this.clock.start()}resize(){if(!this.container)return;let e=this.container.getBoundingClientRect();this.width=Math.max(1,Math.floor(e.width)),this.height=Math.max(1,Math.floor(e.height)),this.aspect=this.width/this.height,this.renderer&&this.renderer.setSize(this.width,this.height,!1)}update(){this.clock&&(this.delta=this.clock.getDelta(),this.time+=this.delta)}constructor(){this.width=0,this.height=0,this.aspect=1,this.pixelRatio=1,this.isMobile=!1,this.breakpoint=768,this.fboWidth=null,this.fboHeight=null,this.time=0,this.delta=0,this.container=null,this.renderer=null,this.clock=null}}let a=new r;class y{init(e){this.container=e,e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("mouseenter",this._onMouseEnter),e.addEventListener("mouseleave",this._onMouseLeave),e.addEventListener("touchend",this._onTouchEnd)}dispose(){let e=this.container;e&&(e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("mouseenter",this._onMouseEnter),e.removeEventListener("mouseleave",this._onMouseLeave),e.removeEventListener("touchend",this._onTouchEnd))}setCoords(e,t){if(!this.container)return;this.timer&&window.clearTimeout(this.timer);let i=this.container.getBoundingClientRect(),s=(e-i.left)/i.width,r=(t-i.top)/i.height;this.coords.set(2*s-1,-(2*r-1)),this.mouseMoved=!0,this.timer=window.setTimeout(()=>{this.mouseMoved=!1},100)}setNormalized(e,t){this.coords.set(e,t),this.mouseMoved=!0}onDocumentMouseMove(e){if(this.onInteract&&this.onInteract(),this.isAutoActive&&!this.hasUserControl&&!this.takeoverActive){if(!this.container)return;let t=this.container.getBoundingClientRect(),i=(e.clientX-t.left)/t.width,s=(e.clientY-t.top)/t.height;this.takeoverFrom.copy(this.coords),this.takeoverTo.set(2*i-1,-(2*s-1)),this.takeoverStartTime=performance.now(),this.takeoverActive=!0,this.hasUserControl=!0,this.isAutoActive=!1;return}this.setCoords(e.clientX,e.clientY),this.hasUserControl=!0}onDocumentTouchStart(e){if(1===e.touches.length){let t=e.touches[0];this.onInteract&&this.onInteract(),this.setCoords(t.pageX,t.pageY),this.hasUserControl=!0}}onDocumentTouchMove(e){if(1===e.touches.length){let t=e.touches[0];this.onInteract&&this.onInteract(),this.setCoords(t.pageX,t.pageY)}}onTouchEnd(){this.isHoverInside=!1}onMouseEnter(){this.isHoverInside=!0}onMouseLeave(){this.isHoverInside=!1}update(){if(this.takeoverActive){let e=(performance.now()-this.takeoverStartTime)/(1e3*this.takeoverDuration);e>=1?(this.takeoverActive=!1,this.coords.copy(this.takeoverTo),this.coords_old.copy(this.coords),this.diff.set(0,0)):this.coords.copy(this.takeoverFrom).lerp(this.takeoverTo,e*e*(3-2*e))}this.diff.subVectors(this.coords,this.coords_old),this.coords_old.copy(this.coords),0===this.coords_old.x&&0===this.coords_old.y&&this.diff.set(0,0),this.isAutoActive&&!this.takeoverActive&&this.diff.multiplyScalar(this.autoIntensity)}constructor(){this.mouseMoved=!1,this.coords=new n.I9Y,this.coords_old=new n.I9Y,this.diff=new n.I9Y,this.timer=null,this.container=null,this.isHoverInside=!1,this.hasUserControl=!1,this.isAutoActive=!1,this.autoIntensity=2,this.takeoverActive=!1,this.takeoverStartTime=0,this.takeoverDuration=.25,this.takeoverFrom=new n.I9Y,this.takeoverTo=new n.I9Y,this.onInteract=null,this._onMouseMove=this.onDocumentMouseMove.bind(this),this._onTouchStart=this.onDocumentTouchStart.bind(this),this._onTouchMove=this.onDocumentTouchMove.bind(this),this._onMouseEnter=this.onMouseEnter.bind(this),this._onMouseLeave=this.onMouseLeave.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this)}}let x=new y;class k{pickNewTarget(){let e=Math.random;this.target.set((2*e()-1)*(1-this.margin),(2*e()-1)*(1-this.margin))}forceStop(){this.active=!1,this.mouse.isAutoActive=!1}update(){if(!this.enabled)return;let e=performance.now();if(e-this.manager.lastUserInteraction<this.resumeDelay||this.mouse.isHoverInside){this.active&&this.forceStop();return}if(this.active||(this.active=!0,this.current.copy(this.mouse.coords),this.lastTime=e,this.activationTime=e),!this.active)return;this.mouse.isAutoActive=!0;let t=(e-this.lastTime)/1e3;this.lastTime=e,t>.2&&(t=.016);let i=this._tmpDir.subVectors(this.target,this.current),s=i.length();if(s<.01)return void this.pickNewTarget();i.normalize();let r=1;if(this.rampDurationMs>0){let t=Math.min(1,(e-this.activationTime)/this.rampDurationMs);r=t*t*(3-2*t)}let n=Math.min(this.speed*t*r,s);this.current.addScaledVector(i,n),this.mouse.setNormalized(this.current.x,this.current.y)}constructor(e,t,i){this.active=!1,this.current=new n.I9Y(0,0),this.target=new n.I9Y,this.lastTime=performance.now(),this.activationTime=0,this.margin=.2,this._tmpDir=new n.I9Y,this.mouse=e,this.manager=t,this.enabled=i.enabled,this.speed=i.speed,this.resumeDelay=i.resumeDelay||3e3,this.rampDurationMs=1e3*(i.rampDuration||0),this.pickNewTarget()}}let I="\n	attribute vec3 position;\n	uniform vec2 px;\n	uniform vec2 boundarySpace;\n	varying vec2 uv;\n	precision highp float;\n	void main(){\n	vec3 pos = position;\n	vec2 scale = 1.0 - boundarySpace * 2.0;\n	pos.xy = pos.xy * scale;\n	uv = vec2(0.5)+(pos.xy)*0.5;\n	gl_Position = vec4(pos, 1.0);\n}\n",R="\n		precision highp float;\n		uniform sampler2D velocity;\n		uniform float dt;\n		uniform bool isBFECC;\n		uniform vec2 fboSize;\n		uniform vec2 px;\n		varying vec2 uv;\n		void main(){\n		vec2 ratio = max(fboSize.x, fboSize.y) / fboSize;\n		if(isBFECC == false){\n				vec2 vel = texture2D(velocity, uv).xy;\n				vec2 uv2 = uv - vel * dt * ratio;\n				vec2 newVel = texture2D(velocity, uv2).xy;\n				gl_FragColor = vec4(newVel, 0.0, 0.0);\n		} else {\n				vec2 spot_new = uv;\n				vec2 vel_old = texture2D(velocity, uv).xy;\n				vec2 spot_old = spot_new - vel_old * dt * ratio;\n				vec2 vel_new1 = texture2D(velocity, spot_old).xy;\n				vec2 spot_new2 = spot_old + vel_new1 * dt * ratio;\n				vec2 error = spot_new2 - spot_new;\n				vec2 spot_new3 = spot_new - error / 2.0;\n				vec2 vel_2 = texture2D(velocity, spot_new3).xy;\n				vec2 spot_old2 = spot_new3 - vel_2 * dt * ratio;\n				vec2 newVel2 = texture2D(velocity, spot_old2).xy; \n				gl_FragColor = vec4(newVel2, 0.0, 0.0);\n		}\n}\n";class B{init(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];this.scene=new n.Z58,this.camera=new n.i7d,this.uniforms&&(this.material=new n.D$Q(this.props.material),this.geometry=new n.bdM(2,2),this.plane=new n.eaF(this.geometry,this.material),this.scene.add(this.plane))}update(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];a.renderer&&this.scene&&this.camera&&(a.renderer.setRenderTarget(this.props.output||null),a.renderer.render(this.scene,this.camera),a.renderer.setRenderTarget(null))}constructor(e){var t;this.scene=null,this.camera=null,this.material=null,this.geometry=null,this.plane=null,this.props=e||{},this.uniforms=null==(t=this.props.material)?void 0:t.uniforms}}class L extends B{init(){super.init(),this.createBoundary()}createBoundary(){let e=new n.LoY,t=new Float32Array([-1,-1,0,-1,1,0,-1,1,0,1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0]);e.setAttribute("position",new n.THS(t,3));let i=new n.D$Q({vertexShader:"\n	attribute vec3 position;\n	uniform vec2 px;\n	precision highp float;\n	varying vec2 uv;\n	void main(){\n	vec3 pos = position;\n	uv = 0.5 + pos.xy * 0.5;\n	vec2 n = sign(pos.xy);\n	pos.xy = abs(pos.xy) - px * 1.0;\n	pos.xy *= n;\n	gl_Position = vec4(pos, 1.0);\n}\n",fragmentShader:R,uniforms:this.uniforms});this.line=new n.DXC(e,i),this.scene.add(this.line)}update(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{dt:s,isBounce:r,BFECC:n}=t[0]||{};this.uniforms&&("number"==typeof s&&(this.uniforms.dt.value=s),"boolean"==typeof r&&(this.line.visible=r),"boolean"==typeof n&&(this.uniforms.isBFECC.value=n),super.update())}constructor(e){super({material:{vertexShader:I,fragmentShader:R,uniforms:{boundarySpace:{value:e.cellScale},px:{value:e.cellScale},fboSize:{value:e.fboSize},velocity:{value:e.src.texture},dt:{value:e.dt},isBFECC:{value:!0}}},output:e.dst}),this.uniforms=this.props.material.uniforms,this.init()}}class Y extends B{init(e){super.init();let t=new n.bdM(1,1),i=new n.D$Q({vertexShader:"\n		precision highp float;\n		attribute vec3 position;\n		attribute vec2 uv;\n		uniform vec2 center;\n		uniform vec2 scale;\n		uniform vec2 px;\n		varying vec2 vUv;\n		void main(){\n		vec2 pos = position.xy * scale * 2.0 * px + center;\n		vUv = uv;\n		gl_Position = vec4(pos, 0.0, 1.0);\n}\n",fragmentShader:"\n		precision highp float;\n		uniform vec2 force;\n		uniform vec2 center;\n		uniform vec2 scale;\n		uniform vec2 px;\n		varying vec2 vUv;\n		void main(){\n		vec2 circle = (vUv - 0.5) * 2.0;\n		float d = 1.0 - min(length(circle), 1.0);\n		d *= d;\n		gl_FragColor = vec4(force * d, 0.0, 1.0);\n}\n",blending:n.EZo,depthWrite:!1,uniforms:{px:{value:e.cellScale},force:{value:new n.I9Y(0,0)},center:{value:new n.I9Y(0,0)},scale:{value:new n.I9Y(e.cursor_size,e.cursor_size)}}});this.mouse=new n.eaF(t,i),this.scene.add(this.mouse)}update(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let s=t[0]||{},r=x.diff.x/2*(s.mouse_force||0),n=x.diff.y/2*(s.mouse_force||0),o=s.cellScale||{x:1,y:1},a=s.cursor_size||0,u=a*o.x,l=a*o.y,c=Math.min(Math.max(x.coords.x,-1+u+2*o.x),1-u-2*o.x),h=Math.min(Math.max(x.coords.y,-1+l+2*o.y),1-l-2*o.y),v=this.mouse.material.uniforms;v.force.value.set(r,n),v.center.value.set(c,h),v.scale.value.set(a,a),super.update()}constructor(e){super({output:e.dst}),this.init(e)}}class U extends B{update(){let e,t;for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];let{viscous:n,iterations:o,dt:a}=s[0]||{};if(!this.uniforms)return;"number"==typeof n&&(this.uniforms.v.value=n);let u=null!=o?o:0;for(let i=0;i<u;i++)i%2==0?(e=this.props.output0,t=this.props.output1):(e=this.props.output1,t=this.props.output0),this.uniforms.velocity_new.value=e.texture,this.props.output=t,"number"==typeof a&&(this.uniforms.dt.value=a),super.update();return t}constructor(e){super({material:{vertexShader:I,fragmentShader:"\n		precision highp float;\n		uniform sampler2D velocity;\n		uniform sampler2D velocity_new;\n		uniform float v;\n		uniform vec2 px;\n		uniform float dt;\n		varying vec2 uv;\n		void main(){\n		vec2 old = texture2D(velocity, uv).xy;\n		vec2 new0 = texture2D(velocity_new, uv + vec2(px.x * 2.0, 0.0)).xy;\n		vec2 new1 = texture2D(velocity_new, uv - vec2(px.x * 2.0, 0.0)).xy;\n		vec2 new2 = texture2D(velocity_new, uv + vec2(0.0, px.y * 2.0)).xy;\n		vec2 new3 = texture2D(velocity_new, uv - vec2(0.0, px.y * 2.0)).xy;\n		vec2 newv = 4.0 * old + v * dt * (new0 + new1 + new2 + new3);\n		newv /= 4.0 * (1.0 + v * dt);\n		gl_FragColor = vec4(newv, 0.0, 0.0);\n}\n",uniforms:{boundarySpace:{value:e.boundarySpace},velocity:{value:e.src.texture},velocity_new:{value:e.dst_.texture},v:{value:e.viscous},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst,output0:e.dst_,output1:e.dst}),this.init()}}class P extends B{update(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{vel:s}=t[0]||{};this.uniforms&&s&&(this.uniforms.velocity.value=s.texture),super.update()}constructor(e){super({material:{vertexShader:I,fragmentShader:"\n		precision highp float;\n		uniform sampler2D velocity;\n		uniform float dt;\n		uniform vec2 px;\n		varying vec2 uv;\n		void main(){\n		float x0 = texture2D(velocity, uv-vec2(px.x, 0.0)).x;\n		float x1 = texture2D(velocity, uv+vec2(px.x, 0.0)).x;\n		float y0 = texture2D(velocity, uv-vec2(0.0, px.y)).y;\n		float y1 = texture2D(velocity, uv+vec2(0.0, px.y)).y;\n		float divergence = (x1 - x0 + y1 - y0) / 2.0;\n		gl_FragColor = vec4(divergence / dt);\n}\n",uniforms:{boundarySpace:{value:e.boundarySpace},velocity:{value:e.src.texture},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst}),this.init()}}class V extends B{update(){let e,t;for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];let{iterations:n}=s[0]||{},o=null!=n?n:0;for(let i=0;i<o;i++)i%2==0?(e=this.props.output0,t=this.props.output1):(e=this.props.output1,t=this.props.output0),this.uniforms&&(this.uniforms.pressure.value=e.texture),this.props.output=t,super.update();return t}constructor(e){super({material:{vertexShader:I,fragmentShader:"\n		precision highp float;\n		uniform sampler2D pressure;\n		uniform sampler2D divergence;\n		uniform vec2 px;\n		varying vec2 uv;\n		void main(){\n		float p0 = texture2D(pressure, uv + vec2(px.x * 2.0, 0.0)).r;\n		float p1 = texture2D(pressure, uv - vec2(px.x * 2.0, 0.0)).r;\n		float p2 = texture2D(pressure, uv + vec2(0.0, px.y * 2.0)).r;\n		float p3 = texture2D(pressure, uv - vec2(0.0, px.y * 2.0)).r;\n		float div = texture2D(divergence, uv).r;\n		float newP = (p0 + p1 + p2 + p3) / 4.0 - div;\n		gl_FragColor = vec4(newP);\n}\n",uniforms:{boundarySpace:{value:e.boundarySpace},pressure:{value:e.dst_.texture},divergence:{value:e.src.texture},px:{value:e.cellScale}}},output:e.dst,output0:e.dst_,output1:e.dst}),this.init()}}class N extends B{update(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let{vel:s,pressure:r}=t[0]||{};this.uniforms&&s&&r&&(this.uniforms.velocity.value=s.texture,this.uniforms.pressure.value=r.texture),super.update()}constructor(e){super({material:{vertexShader:I,fragmentShader:"\n		precision highp float;\n		uniform sampler2D pressure;\n		uniform sampler2D velocity;\n		uniform vec2 px;\n		uniform float dt;\n		varying vec2 uv;\n		void main(){\n		float step = 1.0;\n		float p0 = texture2D(pressure, uv + vec2(px.x * step, 0.0)).r;\n		float p1 = texture2D(pressure, uv - vec2(px.x * step, 0.0)).r;\n		float p2 = texture2D(pressure, uv + vec2(0.0, px.y * step)).r;\n		float p3 = texture2D(pressure, uv - vec2(0.0, px.y * step)).r;\n		vec2 v = texture2D(velocity, uv).xy;\n		vec2 gradP = vec2(p0 - p1, p2 - p3) * 0.5;\n		v = v - gradP * dt;\n		gl_FragColor = vec4(v, 0.0, 1.0);\n}\n",uniforms:{boundarySpace:{value:e.boundarySpace},pressure:{value:e.src_p.texture},velocity:{value:e.src_v.texture},px:{value:e.cellScale},dt:{value:e.dt}}},output:e.dst}),this.init()}}class O{init(){this.calcSize(),this.createAllFBO(),this.createShaderPass()}getFloatType(){return/(iPad|iPhone|iPod)/i.test(navigator.userAgent)?n.ix0:n.RQf}createAllFBO(){let e={type:this.getFloatType(),depthBuffer:!1,stencilBuffer:!1,minFilter:n.k6q,magFilter:n.k6q,wrapS:n.ghU,wrapT:n.ghU};for(let t in this.fbos)this.fbos[t]=new n.nWS(this.fboSize.x,this.fboSize.y,e)}createShaderPass(){this.advection=new L({cellScale:this.cellScale,fboSize:this.fboSize,dt:this.options.dt,src:this.fbos.vel_0,dst:this.fbos.vel_1}),this.externalForce=new Y({cellScale:this.cellScale,cursor_size:this.options.cursor_size,dst:this.fbos.vel_1}),this.viscous=new U({cellScale:this.cellScale,boundarySpace:this.boundarySpace,viscous:this.options.viscous,src:this.fbos.vel_1,dst:this.fbos.vel_viscous1,dst_:this.fbos.vel_viscous0,dt:this.options.dt}),this.divergence=new P({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.vel_viscous0,dst:this.fbos.div,dt:this.options.dt}),this.poisson=new V({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src:this.fbos.div,dst:this.fbos.pressure_1,dst_:this.fbos.pressure_0}),this.pressure=new N({cellScale:this.cellScale,boundarySpace:this.boundarySpace,src_p:this.fbos.pressure_0,src_v:this.fbos.vel_viscous0,dst:this.fbos.vel_0,dt:this.options.dt})}calcSize(){let e=Math.max(1,Math.round(this.options.resolution*a.width)),t=Math.max(1,Math.round(this.options.resolution*a.height));this.cellScale.set(1/e,1/t),this.fboSize.set(e,t)}resize(){for(let e in this.calcSize(),this.fbos)this.fbos[e].setSize(this.fboSize.x,this.fboSize.y)}update(){this.options.isBounce?this.boundarySpace.set(0,0):this.boundarySpace.copy(this.cellScale),this.advection.update({dt:this.options.dt,isBounce:this.options.isBounce,BFECC:this.options.BFECC}),this.externalForce.update({cursor_size:this.options.cursor_size,mouse_force:this.options.mouse_force,cellScale:this.cellScale});let e=this.fbos.vel_1;this.options.isViscous&&(e=this.viscous.update({viscous:this.options.viscous,iterations:this.options.iterations_viscous,dt:this.options.dt})),this.divergence.update({vel:e});let t=this.poisson.update({iterations:this.options.iterations_poisson});this.pressure.update({vel:e,pressure:t})}constructor(e){this.fbos={vel_0:null,vel_1:null,vel_viscous0:null,vel_viscous1:null,div:null,pressure_0:null,pressure_1:null},this.fboSize=new n.I9Y,this.cellScale=new n.I9Y,this.boundarySpace=new n.I9Y,this.options={iterations_poisson:32,iterations_viscous:32,mouse_force:20,resolution:.5,cursor_size:100,viscous:30,isBounce:!1,dt:.014,isViscous:!1,BFECC:!0,...e},this.init()}}class Q{resize(){this.simulation.resize()}render(){a.renderer&&(a.renderer.setRenderTarget(null),a.renderer.render(this.scene,this.camera))}update(){this.simulation.update(),this.render()}constructor(){this.simulation=new O,this.scene=new n.Z58,this.camera=new n.i7d,this.output=new n.eaF(new n.bdM(2,2),new n.D$Q({vertexShader:I,fragmentShader:"\n		precision highp float;\n		uniform sampler2D velocity;\n		uniform sampler2D palette;\n		uniform vec4 bgColor;\n		varying vec2 uv;\n		void main(){\n		vec2 vel = texture2D(velocity, uv).xy;\n		float lenv = clamp(length(vel), 0.0, 1.0);\n		vec3 c = texture2D(palette, vec2(lenv, 0.5)).rgb;\n		vec3 outRGB = mix(bgColor.rgb, c, lenv);\n		float outA = mix(bgColor.a, 1.0, lenv);\n		gl_FragColor = vec4(outRGB, outA);\n}\n",transparent:!0,depthWrite:!1,uniforms:{velocity:{value:this.simulation.fbos.vel_0.texture},boundarySpace:{value:new n.I9Y},palette:{value:e},bgColor:{value:s}}})),this.scene.add(this.output)}}class ${init(){a.renderer&&(this.props.$wrapper.prepend(a.renderer.domElement),this.output=new Q)}resize(){a.resize(),this.output.resize()}render(){this.autoDriver&&this.autoDriver.update(),x.update(),a.update(),this.output.update()}loop(){this.running&&(this.render(),F.current=requestAnimationFrame(this._loop))}start(){this.running||(this.running=!0,this._loop())}pause(){this.running=!1,F.current&&(cancelAnimationFrame(F.current),F.current=null)}dispose(){try{if(window.removeEventListener("resize",this._resize),this._onVisibility&&document.removeEventListener("visibilitychange",this._onVisibility),x.dispose(),a.renderer){let e=a.renderer.domElement;e&&e.parentNode&&e.parentNode.removeChild(e),a.renderer.dispose()}}catch(e){}}constructor(e){this.lastUserInteraction=performance.now(),this.running=!1,this._loop=this.loop.bind(this),this._resize=this.resize.bind(this),this.props=e,a.init(e.$wrapper),x.init(e.$wrapper),x.autoIntensity=e.autoIntensity,x.takeoverDuration=e.takeoverDuration,x.onInteract=()=>{this.lastUserInteraction=performance.now(),this.autoDriver&&this.autoDriver.forceStop()},this.autoDriver=new k(x,this,{enabled:e.autoDemo,speed:e.autoSpeed,resumeDelay:e.autoResumeDelay,rampDuration:e.autoRampDuration}),this.init(),window.addEventListener("resize",this._resize),this._onVisibility=()=>{document.hidden?this.pause():T.current&&this.start()},document.addEventListener("visibilitychange",this._onVisibility)}}let q=M.current;q.style.position=q.style.position||"relative",q.style.overflow=q.style.overflow||"hidden";let H=new $({$wrapper:q,autoDemo:g,autoSpeed:_,autoIntensity:w,takeoverDuration:b,autoResumeDelay:S,autoRampDuration:D});z.current=H,(()=>{var e;if(!z.current)return;let s=null==(e=z.current.output)?void 0:e.simulation;if(!s)return;let r=s.options.resolution;Object.assign(s.options,{mouse_force:t,cursor_size:i,isViscous:u,viscous:l,iterations_viscous:c,iterations_poisson:h,dt:v,BFECC:p,resolution:d,isBounce:m}),d!==r&&s.resize()})(),H.start();let W=new IntersectionObserver(e=>{let t=e[0],i=t.isIntersecting&&t.intersectionRatio>0;T.current=i,z.current&&(i&&!document.hidden?z.current.start():z.current.pause())},{threshold:[0,.01,.1]});W.observe(q),E.current=W;let X=new ResizeObserver(()=>{z.current&&(A.current&&cancelAnimationFrame(A.current),A.current=requestAnimationFrame(()=>{z.current&&z.current.resize()}))});return X.observe(q),C.current=X,()=>{if(F.current&&cancelAnimationFrame(F.current),C.current)try{C.current.disconnect()}catch(e){}if(E.current)try{E.current.disconnect()}catch(e){}z.current&&z.current.dispose(),z.current=null}},[p,i,v,m,u,h,c,t,d,l,f,g,_,w,b,S,D]),(0,r.useEffect)(()=>{var e;let s=z.current;if(!s)return;let r=null==(e=s.output)?void 0:e.simulation;if(!r)return;let n=r.options.resolution;Object.assign(r.options,{mouse_force:t,cursor_size:i,isViscous:u,viscous:l,iterations_viscous:c,iterations_poisson:h,dt:v,BFECC:p,resolution:d,isBounce:m}),s.autoDriver&&(s.autoDriver.enabled=g,s.autoDriver.speed=_,s.autoDriver.resumeDelay=S,s.autoDriver.rampDurationMs=1e3*D,s.autoDriver.mouse&&(s.autoDriver.mouse.autoIntensity=w,s.autoDriver.mouse.takeoverDuration=b)),d!==n&&r.resize()},[t,i,u,l,c,h,v,p,d,m,g,_,w,b,S,D]),(0,s.jsx)("div",{ref:M,className:"liquid-ether-container ".concat(x||""),style:y})}},9550:()=>{},9790:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2619,23)),Promise.resolve().then(i.bind(i,4739)),Promise.resolve().then(i.t.bind(i,9550,23))}},e=>{e.O(0,[265,367,831,619,441,255,358],()=>e(e.s=9790)),_N_E=e.O()}]);